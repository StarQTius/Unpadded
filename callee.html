<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Implementing callee side &#8212; Unpadded  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Serialization tools" href="serialization.html" />
    <link rel="prev" title="Implementing caller side" href="caller.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="implementing-callee-side">
<h1>Implementing callee side<a class="headerlink" href="#implementing-callee-side" title="Permalink to this heading">¶</a></h1>
<p>Unpadded provides tools for receiving and processing incoming packet from the caller. Depending on your needs, there are several options available, especially for embedded platforms.</p>
<p>The following sections will assume these functions to be defined by the callee device:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">write_byte_to_master</span><span class="p">(</span><span class="n">upd</span><span class="o">::</span><span class="n">byte_t</span><span class="p">);</span>
<span class="n">upd</span><span class="o">::</span><span class="n">byte_t</span><span class="w"> </span><span class="nf">read_byte_from_master</span><span class="p">();</span>
</pre></div>
</div>
<section id="basics-fulfiling-incoming-request-with-dispatchers">
<h2>Basics : fulfiling incoming request with dispatchers<a class="headerlink" href="#basics-fulfiling-incoming-request-with-dispatchers" title="Permalink to this heading">¶</a></h2>
<p>Processing incoming invocation requests and sending back the result of this invocation to the caller is done with the dispatcher classes. There are four of them:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dispatcher</span></code>, the most basic one, which provide no internal buffer;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buffered_dispatcher</span></code>, which use user-provided buffers;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single_buffered_dispatcher</span></code>, which use a single internal buffer for both receiving and sending;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">double_buffered_dispatcher</span></code>, which use two separate internal buffers: one for receiving and one for sending;</p></li>
</ul>
<p>Receiving a packet and sending back a response packet is pretty straightforward:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// We assume that a `keyring` object has been defined and</span>
<span class="c1">// both the caller and the callee use this keyring.</span>

<span class="c1">// We create a dispatcher which can handle request for</span>
<span class="c1">// the invocables managed by `keyring`. The second</span>
<span class="c1">// argument will be discussed later.</span>
<span class="k">static</span><span class="w"> </span><span class="n">upd</span><span class="o">::</span><span class="n">dispatcher</span><span class="w"> </span><span class="n">dispatcher</span><span class="p">{</span><span class="n">keyring</span><span class="p">,</span><span class="w"> </span><span class="n">upd</span><span class="o">::</span><span class="n">policy</span><span class="o">::</span><span class="n">any_callback</span><span class="p">};</span>

<span class="c1">// Let&#39;s assume this function is invoked when the input</span>
<span class="c1">// buffer contains a full request.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">processing_request</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// And, that&#39;s it ! With this single line, the dispatcher</span>
<span class="w">  </span><span class="c1">// will automatically extract the bytes from the input</span>
<span class="w">  </span><span class="c1">// buffer and write the response to the output buffer.</span>
<span class="w">  </span><span class="n">dispatcher</span><span class="p">(</span><span class="n">read_byte_from_master</span><span class="p">,</span><span class="w"> </span><span class="n">write_byte_to_master</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="buffered-dispatchers-vs-non-buffered-dispatchers">
<h3>Buffered dispatchers vs. non-buffered dispatchers<a class="headerlink" href="#buffered-dispatchers-vs-non-buffered-dispatchers" title="Permalink to this heading">¶</a></h3>
<p>Both kind of dispatchers use callbacks to read and write the bytes of the packets. However:</p>
<ul class="simple">
<li><p>Non-buffered dispatchers will immediately read all the bytes needed for a full packet, regardless of whether these bytes have actually all been receive at this point. In other words, the provided invocable which is used to get the bytes one by one will be called reapetedly, and it is up to you to implement the correct behavior. For example, you may block until at least one byte is available. The most sensible solution would be to call the dispatcher only when enough bytes have been received or to use synchronization primitives in order to wait for new bytes to come without blocking the device.</p></li>
<li><p>Buffered dispatchers use buffers which allow you to store incomplete packets. That means that you may receive a part of the packet, then do something else to finally receive the rest later.</p></li>
</ul>
<p>Non-buffered dispatchers may be a viable option when you can afford to block the execuction of your program or can use an RTOS. It may be also be useful if you have specific needs and want to implement your own dispatcher, since it is the most basic form of dispatcher.</p>
<p>Buffered dispatchers are best used when you can’t afford to waste machine cycles. Most often, communication peripherals of microcontrollers can only receive incoming data in a fixed-width FIFO and same goes with sending. In that case, buffered dispatchers are suitable, since they provide a buffer big enough to receive an action request or response.</p>
</section>
<section id="single-buffered-dispatchers-vs-double-buffered-dispatchers">
<h3>Single buffered dispatchers vs. double buffered dispatchers<a class="headerlink" href="#single-buffered-dispatchers-vs-double-buffered-dispatchers" title="Permalink to this heading">¶</a></h3>
<p>Single buffered dispatchers only have a single internal buffer, which is used to store both incoming packets and packets to send back. However, you can’t receive any packet as long as you have a packet to send in the buffer.</p>
<p>Double buffered dispatchers, on the other hand, use separate buffers for input and output. That means that you can receive an incoming request and sending a response packet at the same time. Only one packet can fit in both buffers.</p>
<p>You can implement your owm kind of buffered dispatcher using the <code class="docutils literal notranslate"><span class="pre">buffered_dispatcher</span></code> class. On the other hand, <code class="docutils literal notranslate"><span class="pre">single_buffered_dispatcher</span></code> and <code class="docutils literal notranslate"><span class="pre">double_buffered_dispatcher</span></code> come with their own internal buffers, whose sizes are optimized to handle packets no larger than what you should receive or send. These sizes are deduced at compile-time with CTAD (or template argument deduction is you are using <code class="docutils literal notranslate"><span class="pre">make_single_buffered_dispatcher</span></code> or <code class="docutils literal notranslate"><span class="pre">make_double_buffered_dispatcher</span></code>) using the provided keyring.</p>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this heading">¶</a></h3>
<p>In the follwing example, we assume that <code class="docutils literal notranslate"><span class="pre">on_byte_received</span></code> is invoked whenever a byte has been received from callee (which can be retrieved using <code class="docutils literal notranslate"><span class="pre">read_byte_from_callee</span></code>) and <code class="docutils literal notranslate"><span class="pre">on_byte_sent</span></code> is invoked whenever a byte has been fully sent to callee with the function <code class="docutils literal notranslate"><span class="pre">write_byte_to_callee</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">motion_keyring.hpp</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#pragma once</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdint&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;upd/format.hpp&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;upd/keyring.hpp&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;upd/typelist.hpp&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">set_forward_speed</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">set_left_steering_speed</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">set_right_steering_speed</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">uint32_t</span><span class="p">);</span>

<span class="k">constexpr</span><span class="w"> </span><span class="n">upd</span><span class="o">::</span><span class="n">keyring</span><span class="w"> </span><span class="n">motion_keyring</span><span class="p">{</span><span class="n">upd</span><span class="o">::</span><span class="n">flist</span><span class="o">&lt;</span><span class="n">set_forward_speed</span><span class="p">,</span><span class="w"> </span><span class="n">set_left_steering_speed</span><span class="p">,</span><span class="w"> </span><span class="n">set_right_steering_speed</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">                                      </span><span class="n">upd</span><span class="o">::</span><span class="n">little_endian</span><span class="p">,</span>
<span class="w">                                      </span><span class="n">upd</span><span class="o">::</span><span class="n">twos_complement</span><span class="p">};</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="hot-swapping-callbacks">
<h2>Hot swapping callbacks<a class="headerlink" href="#hot-swapping-callbacks" title="Permalink to this heading">¶</a></h2>
<p>You can replace what callback will invoked after your dispatcher has been created with the <code class="docutils literal notranslate"><span class="pre">replace</span></code> member function. However, it must be invocable in the same way (ie. it must be invocable on the same parameter as the replaced callback, and it must return a value of the same type). Depending on the storage policy, you can even replace the callbacks with callback of any storage duration.</p>
</section>
<section id="storage-policy">
<h2>Storage policy<a class="headerlink" href="#storage-policy" title="Permalink to this heading">¶</a></h2>
<p>Depending on what you can afford to do, you will want your invocables to be stored differently. There is two available policies at the moment:</p>
<ul class="simple">
<li><p>Allowing any kind of callback to be stored with the <code class="docutils literal notranslate"><span class="pre">any_action</span></code> policy. It means that the dispatcher is responsible for the life cycle of the callbacks, and it therefore uses dynamic allocation.</p></li>
<li><p>Allowing callback with static storage duration only with the <code class="docutils literal notranslate"><span class="pre">weak_reference</span></code> policy. In that case, the dispatcher doesn’t need to manage the life cycle of the callbacks because it restricts the callbacks to be allocated statically. In that case, the dispatcher merely refers to the callbacks without keeping it alive, hence the name of the policy. This policy works well with plain functions, since they exist: in program memory which is usually not modified. It can also work with function objects, but in that case, the object cannot live on the heap or on the stack. It must be alive during the whole execution of the program.</p></li>
</ul>
<p>The latter policy is more appropriate for microcontrollers.</p>
</section>
<section id="api-references">
<h2>API References<a class="headerlink" href="#api-references" title="Permalink to this heading">¶</a></h2>
<section id="dispatcher">
<h3><code class="docutils literal notranslate"><span class="pre">dispatcher</span></code><a class="headerlink" href="#dispatcher" title="Permalink to this heading">¶</a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I0_15action_featuresEN3upd10dispatcherE">
<span id="_CPPv3I0_15action_featuresEN3upd10dispatcherE"></span><span id="_CPPv2I0_15action_featuresEN3upd10dispatcherE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Keyring</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">action_features</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action_Features</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1dispatcher"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dispatcher</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">immediate_process</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher"><span class="n"><span class="pre">dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">index_t</span></span><span class="p"><span class="pre">&gt;</span></span><a class="headerlink" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Action container able to accept and process action requests. </p>
<p>A dispatcher is constructed from a  keyring instance and is able to unserialize a payload serialized by a key created from the same keyring. When it happens, the dispatcher calls the callback associated with the key, forwards the arguments from the payload to the callback. The functions are internally held as  action instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Keyring</strong> – Keyring describing the actions to manage </p></li>
<li><p><strong>Action_Features</strong> – Restriction on stored actions </p></li>
</ul>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N3upd10dispatcher12signatures_tE">
<span id="_CPPv3N3upd10dispatcher12signatures_tE"></span><span id="_CPPv2N3upd10dispatcher12signatures_tE"></span><span class="target" id="classupd_1_1dispatcher_1ada727126fedc23dd5b52f9e86f989f5b"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">signatures_t</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">signatures_t</span></span><a class="headerlink" href="#_CPPv4N3upd10dispatcher12signatures_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Typelist containing the signatures of the callbacks. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N3upd10dispatcher7index_tE">
<span id="_CPPv3N3upd10dispatcher7index_tE"></span><span id="_CPPv2N3upd10dispatcher7index_tE"></span><span class="target" id="classupd_1_1dispatcher_1abd74e4aeb5af4fcdb5d0bcca77f57f2c"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">index_t</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">index_t</span></span><a class="headerlink" href="#_CPPv4N3upd10dispatcher7index_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Type of the index prepended to the payload when sending a packet to the callee. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd10dispatcher10dispatcherE7Keyring17action_features_hI15Action_FeaturesE">
<span id="_CPPv3N3upd10dispatcher10dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span id="_CPPv2N3upd10dispatcher10dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span id="upd::dispatcher::dispatcher__Keyring.action_features_h:Action_Features:"></span><span class="target" id="classupd_1_1dispatcher_1a78b97747e23c9485a4d215d9c14c9bd0"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a>, <span class="n"><span class="pre">action_features_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd10dispatcher10dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct the object from the provided keyring. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd10dispatcher10dispatcherEv">
<span id="_CPPv3N3upd10dispatcher10dispatcherEv"></span><span id="_CPPv2N3upd10dispatcher10dispatcherEv"></span><span id="upd::dispatcher::dispatcher"></span><span class="target" id="classupd_1_1dispatcher_1ad56f143d11a832f99d25f743bb4bdfe5"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dispatcher</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd10dispatcher10dispatcherEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct the object from the provided keyring. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN3upd10dispatcherclE7index_tRR3SrcRR4Dest">
<span id="_CPPv3I00EN3upd10dispatcherclERR3SrcRR4Dest"></span><span id="_CPPv2I00EN3upd10dispatcherclERR3SrcRR4Dest"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Src</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Dest</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1dispatcher_1ae81b26648d0ead9221c5980524e7faed"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd10dispatcher7index_tE" title="upd::dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">()</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I00EN3upd10dispatcherclE7index_tRR3SrcRR4Dest" title="upd::dispatcher::operator()::Src"><span class="n"><span class="pre">Src</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span>, <a class="reference internal" href="#_CPPv4I00EN3upd10dispatcherclE7index_tRR3SrcRR4Dest" title="upd::dispatcher::operator()::Dest"><span class="n"><span class="pre">Dest</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN3upd10dispatcherclE7index_tRR3SrcRR4Dest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Extract an index from a byte sequence then invoke the action with that index. </p>
<p>The parameters for the action call are extracted from <code class="docutils literal notranslate"><span class="pre">src</span></code> and the return value is inserted into <code class="docutils literal notranslate"><span class="pre">dest</span></code>.</p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><a class="reference internal" href="#classupd_1_1dispatcher_1ae81b26648d0ead9221c5980524e7faed"><span class="std std-ref"><span class="pre">operator()(Src</span> <span class="pre">&amp;&amp;,</span> <span class="pre">Dest</span> <span class="pre">&amp;&amp;)</span></span></a></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Input</strong> – Input byte stream type of any kind </p></li>
<li><p><strong>Output</strong> – Output byte stream type of any kind</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>src</strong> – Byte getter </p></li>
<li><p><strong>dest</strong> – Byte putter </p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the index of the called action </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN3upd10dispatcher10get_actionEP8action_tRR3Src">
<span id="_CPPv3I0EN3upd10dispatcher10get_actionERR3Src"></span><span id="_CPPv2I0EN3upd10dispatcher10get_actionERR3Src"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Src</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1dispatcher_1a387b1165a27aa48fb35fd33145bd80da"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">action_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">get_action</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN3upd10dispatcher10get_actionEP8action_tRR3Src" title="upd::dispatcher::get_action::Src"><span class="n"><span class="pre">Src</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN3upd10dispatcher10get_actionEP8action_tRR3Src" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Extract an index from a byte sequence and get the action with that index. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src</strong> – Byte getter </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Either a reference to the action if it exists or <code class="docutils literal notranslate"><span class="pre">nullptr</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK3upd10dispatcher9get_indexE7index_tRR3Src">
<span id="_CPPv3I0ENK3upd10dispatcher9get_indexERR3Src"></span><span id="_CPPv2I0ENK3upd10dispatcher9get_indexERR3Src"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Src</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1dispatcher_1a73974225d79a05517a5e2828d5a1f569"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd10dispatcher7index_tE" title="upd::dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_index</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0ENK3upd10dispatcher9get_indexE7index_tRR3Src" title="upd::dispatcher::get_index::Src"><span class="n"><span class="pre">Src</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK3upd10dispatcher9get_indexE7index_tRR3Src" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Extract an index from a byte sequence. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src</strong> – Byte getter </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The extracted index </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_7index_t0_1FEN3upd10dispatcher7replaceEv11unevaluatedI1F4FtorE">
<span id="_CPPv3I_7index_t0_1FEN3upd10dispatcher7replaceE11unevaluatedI1F4FtorE"></span><span id="_CPPv2I_7index_t0_1FEN3upd10dispatcher7replaceE11unevaluatedI1F4FtorE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N3upd10dispatcher7index_tE" title="upd::dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Index</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I_7index_t0_1FEN3upd10dispatcher7replaceEv11unevaluatedI1F4FtorE" title="upd::dispatcher::replace::F"><span class="n"><span class="pre">F</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Ftor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1dispatcher_1a367dcd67b9352c89aaee452201ad49be"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replace</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="shared.html#_CPPv4I0_1TEN3upd11unevaluatedE" title="upd::unevaluated"><span class="n"><span class="pre">unevaluated</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I_7index_t0_1FEN3upd10dispatcher7replaceEv11unevaluatedI1F4FtorE" title="upd::dispatcher::replace::F"><span class="n"><span class="pre">F</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I_7index_t0_1FEN3upd10dispatcher7replaceEv11unevaluatedI1F4FtorE" title="upd::dispatcher::replace::Ftor"><span class="n"><span class="pre">Ftor</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_7index_t0_1FEN3upd10dispatcher7replaceEv11unevaluatedI1F4FtorE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Replace with a free function or a callback with static storage duration. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Index</strong> – Index of the action to replace </p></li>
<li><p><strong>Ftor</strong> – Free function or callback with static storage duration </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_7index_t_RDaEN3upd10dispatcher7replaceEvv">
<span id="_CPPv3I_7index_t_RDaEN3upd10dispatcher7replaceEv"></span><span id="_CPPv2I_7index_t_RDaEN3upd10dispatcher7replaceEv"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N3upd10dispatcher7index_tE" title="upd::dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Index</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">Ftor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1dispatcher_1a1ab87d42d537e11e3d9d8cab30a45cc4"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replace</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_7index_t_RDaEN3upd10dispatcher7replaceEvv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>(C++17) Replace with a free function or a callback with static storage duration </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Index</strong> – Index of the action to replace </p></li>
<li><p><strong>Ftor</strong> – Free function or callback with static storage duration </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_7index_t0EN3upd10dispatcher7replaceEvRR1F">
<span id="_CPPv3I_7index_t0EN3upd10dispatcher7replaceERR1F"></span><span id="_CPPv2I_7index_t0EN3upd10dispatcher7replaceERR1F"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N3upd10dispatcher7index_tE" title="upd::dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Index</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1dispatcher_1a1c7c1f9232c2d9d988554393f745fcab"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replace</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I_7index_t0EN3upd10dispatcher7replaceEvRR1F" title="upd::dispatcher::replace::F"><span class="n"><span class="pre">F</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ftor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_7index_t0EN3upd10dispatcher7replaceEvRR1F" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Replace with a callback of any kind. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Index</strong> – Index of the action to replace </p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ftor</strong> – Callback of any kind </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd10dispatcherixE7index_t">
<span id="_CPPv3N3upd10dispatcherixE7index_t"></span><span id="_CPPv2N3upd10dispatcherixE7index_t"></span><span id="upd::dispatcher::subscript-operator__index_t"></span><span class="target" id="classupd_1_1dispatcher_1a8de24bac6ee305561dfc3accd1cb4131"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">action_t</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">[]</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N3upd10dispatcher7index_tE" title="upd::dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd10dispatcherixE7index_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get one of the stored actions. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>No bound check is performed. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> – Index of an action </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the action associated with that index </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3upd10dispatcherixE7index_t">
<span id="_CPPv3NK3upd10dispatcherixE7index_t"></span><span id="_CPPv2NK3upd10dispatcherixE7index_t"></span><span id="upd::dispatcher::subscript-operator__index_tC"></span><span class="target" id="classupd_1_1dispatcher_1a5ee731fbdfbf19e075b21626349adb0d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">action_t</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">[]</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N3upd10dispatcher7index_tE" title="upd::dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3upd10dispatcherixE7index_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get one of the stored actions. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>No bound check is performed. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> – Index of an action </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the action associated with that index </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-attributes">Public Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd10dispatcher4sizeE">
<span id="_CPPv3N3upd10dispatcher4sizeE"></span><span id="_CPPv2N3upd10dispatcher4sizeE"></span><span id="upd::dispatcher::size__auto"></span><span class="target" id="classupd_1_1dispatcher_1a329eb1db2c3a3986132b689437043742"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size</span></span><a class="headerlink" href="#_CPPv4N3upd10dispatcher4sizeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of managed callbacks. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd10dispatcher9endianessE">
<span id="_CPPv3N3upd10dispatcher9endianessE"></span><span id="_CPPv2N3upd10dispatcher9endianessE"></span><span id="upd::dispatcher::endianess__auto"></span><span class="target" id="classupd_1_1dispatcher_1ac094df4786f8dd781b457177cc5ed625"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">endianess</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">endianess</span></span><a class="headerlink" href="#_CPPv4N3upd10dispatcher9endianessE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Endianess of the data in the packets built by the keys. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd10dispatcher11signed_modeE">
<span id="_CPPv3N3upd10dispatcher11signed_modeE"></span><span id="_CPPv2N3upd10dispatcher11signed_modeE"></span><span id="upd::dispatcher::signed_mode__auto"></span><span class="target" id="classupd_1_1dispatcher_1a54ded499e22548771c43c6425d5899df"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">signed_mode</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">signed_mode</span></span><a class="headerlink" href="#_CPPv4N3upd10dispatcher11signed_modeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Signed number representation of the data in the packets built by the keys. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-related">Related</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4I0_15action_featuresEN3upd10dispatcher15make_dispatcherE">
<span id="_CPPv3I0_15action_featuresEN3upd10dispatcher15make_dispatcherE"></span><span id="_CPPv2I0_15action_featuresEN3upd10dispatcher15make_dispatcherE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Keyring</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">action_features</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action_Features</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1dispatcher_1a86a91f275cb722325ef291c567aa2409"></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcherE" title="upd::dispatcher"><span class="n"><span class="pre">dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcher15make_dispatcherE" title="upd::dispatcher::make_dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcher15make_dispatcherE" title="upd::dispatcher::make_dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">make_dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcher15make_dispatcherE" title="upd::dispatcher::make_dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a>, <span class="n"><span class="pre">action_features_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd10dispatcher15make_dispatcherE" title="upd::dispatcher::make_dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0_15action_featuresEN3upd10dispatcher15make_dispatcherE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Make a dispatcher. </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="buffered-dispatcher">
<h3><code class="docutils literal notranslate"><span class="pre">buffered_dispatcher</span></code><a class="headerlink" href="#buffered-dispatcher" title="Permalink to this heading">¶</a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I00EN3upd19buffered_dispatcherE">
<span id="_CPPv3I00EN3upd19buffered_dispatcherE"></span><span id="_CPPv2I00EN3upd19buffered_dispatcherE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">D</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Dispatcher</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffered_dispatcher</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">immediate_reader</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher"><span class="n"><span class="pre">buffered_dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher::D"><span class="n"><span class="pre">D</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher::Dispatcher"><span class="n"><span class="pre">Dispatcher</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">immediate_writer</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher"><span class="n"><span class="pre">buffered_dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher::D"><span class="n"><span class="pre">D</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher::Dispatcher"><span class="n"><span class="pre">Dispatcher</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">immediate_process</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher"><span class="n"><span class="pre">buffered_dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher::D"><span class="n"><span class="pre">D</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher::Dispatcher"><span class="n"><span class="pre">Dispatcher</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="p"><span class="pre">&gt;</span></span><a class="headerlink" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dispatcher with input / output storage. </p>
<p>Instances of this class may store input and output byte streams while they are received or sent. This allows the user to load and unload the dispatcher byte after byte, whereas plain dispatchers cannot buffer their input and output. A buffered dispatcher goes through the following states:</p>
<p><ol class="loweralpha simple">
<li><p>The input buffer is empty, ready to accept an action request.</p></li>
<li><p>Once a full action request has been received, it is immediately fulfilled and the result is written to the output buffer. The input buffer is reset, thus it may receive a new request while the output buffer is unloaded.</p></li>
<li><p>Once the output buffer is empty, it may be written again.</p></li>
</ol>
</p>
<p>
This class is not self-sufficient and must be derived from according to the CRTP idiom.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is possible to use a single buffer as input and output as long as the reading and the writing does not occur at the same time. For that purpose, is_loaded() will indicate whether the output buffer is empty or not.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>D</strong> – Derived class </p></li>
<li><p><strong>Dispatcher</strong> – Type of the underlying dispatcher </p></li>
</ul>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N3upd19buffered_dispatcher7index_tE">
<span id="_CPPv3N3upd19buffered_dispatcher7index_tE"></span><span id="_CPPv2N3upd19buffered_dispatcher7index_tE"></span><span class="target" id="classupd_1_1buffered__dispatcher_1aea13c13a242a863034bc44cb238ce23c"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">index_t</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher::Dispatcher"><span class="n"><span class="pre">Dispatcher</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">index_t</span></span><a class="headerlink" href="#_CPPv4N3upd19buffered_dispatcher7index_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Type of the index prepended to the payload when sending a packet to the callee. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0_15action_featuresEN3upd19buffered_dispatcher19buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE">
<span id="_CPPv3I0_15action_featuresEN3upd19buffered_dispatcher19buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span id="_CPPv2I0_15action_featuresEN3upd19buffered_dispatcher19buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Keyring</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">action_features</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action_Features</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher_1ab7bcd721eabda63d4ff162576d3c1ed8"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffered_dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd19buffered_dispatcher19buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="upd::buffered_dispatcher::buffered_dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a>, <span class="n"><span class="pre">action_features_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd19buffered_dispatcher19buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="upd::buffered_dispatcher::buffered_dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0_15action_featuresEN3upd19buffered_dispatcher19buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize the underlying plain dispatcher with a keyring. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Keyring</strong> – keyring template instance </p></li>
<li><p><strong>Action_Features</strong> – Allowed action features for the managed actions </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd19buffered_dispatcher19buffered_dispatcherEv">
<span id="_CPPv3N3upd19buffered_dispatcher19buffered_dispatcherEv"></span><span id="_CPPv2N3upd19buffered_dispatcher19buffered_dispatcherEv"></span><span id="upd::buffered_dispatcher::buffered_dispatcher"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a0b42ee73aa7e473e901cc5910e5b1cad"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffered_dispatcher</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd19buffered_dispatcher19buffered_dispatcherEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize the underlying plain dispatcher with a keyring. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Keyring</strong> – keyring template instance </p></li>
<li><p><strong>Action_Features</strong> – Allowed action features for the managed actions </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3upd19buffered_dispatcher9is_loadedEv">
<span id="_CPPv3NK3upd19buffered_dispatcher9is_loadedEv"></span><span id="_CPPv2NK3upd19buffered_dispatcher9is_loadedEv"></span><span id="upd::buffered_dispatcher::is_loadedC"></span><span class="target" id="classupd_1_1buffered__dispatcher_1adb52b1c00e9885f7cba1b3432fb19f58"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_loaded</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3upd19buffered_dispatcher9is_loadedEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Indicates whether the output buffer contains data to send. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if the next call to put() or write_to() will have a visible effect </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN3upd19buffered_dispatcher9read_fromE13packet_statusRR3Src">
<span id="_CPPv3I0EN3upd19buffered_dispatcher9read_fromERR3Src"></span><span id="_CPPv2I0EN3upd19buffered_dispatcher9read_fromERR3Src"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Src</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher_1a46d11f7bd63339f2f608db57d04e5440"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_from</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN3upd19buffered_dispatcher9read_fromE13packet_statusRR3Src" title="upd::buffered_dispatcher::read_from::Src"><span class="n"><span class="pre">Src</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN3upd19buffered_dispatcher9read_fromE13packet_statusRR3Src" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put bytes into the input buffer until a full action request is stored. </p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">Src</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">Src</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">R</span> <span class="n">read_from</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">R</span> <span class="n">read_from</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">read_from(Src</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Src</strong> – Byte getter type </p></li>
<li><p><strong>It</strong> – Input iterator type </p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src</strong> – Byte getter </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>one of the following :<ul class="simple">
<li><p>packet_status::DROPPED_PACKET: The received index was invalid and the input buffer content was therefore discarded.</p></li>
<li><p>packet_status::RESOLVED_PACKET: The packet was fully loaded and the associated action has been called (the input buffer is empty and the output buffer contains the result of the action invocation). </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd19buffered_dispatcher3putE6byte_t">
<span id="_CPPv3N3upd19buffered_dispatcher3putE6byte_t"></span><span id="_CPPv2N3upd19buffered_dispatcher3putE6byte_t"></span><span id="upd::buffered_dispatcher::put__byte_t"></span><span class="target" id="classupd_1_1buffered__dispatcher_1afae9426f63703ae32115ecac4b3aeac5"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">put</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="serialization.html#_CPPv4N3upd6byte_tE" title="upd::byte_t"><span class="n"><span class="pre">byte_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">byte</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd19buffered_dispatcher3putE6byte_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put one byte into the input buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>byte</strong> – Byte to put </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>one of the following :<ul class="simple">
<li><p>packet_status::LOADING_PACKET: The packet is not yet fully loaded.</p></li>
<li><p>packet_status::DROPPED_PACKET: The received index was invalid and the input buffer content was therefore discarded.</p></li>
<li><p>packet_status::RESOLVED_PACKET: The packet was fully loaded and the associated action has been called (the input buffer is empty and the output buffer contains the result of the action invocation). </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN3upd19buffered_dispatcher8write_toEvRR4Dest">
<span id="_CPPv3I0EN3upd19buffered_dispatcher8write_toERR4Dest"></span><span id="_CPPv2I0EN3upd19buffered_dispatcher8write_toERR4Dest"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Dest</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher_1a21551d0c04378888df3121e4268f1e95"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write_to</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN3upd19buffered_dispatcher8write_toEvRR4Dest" title="upd::buffered_dispatcher::write_to::Dest"><span class="n"><span class="pre">Dest</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN3upd19buffered_dispatcher8write_toEvRR4Dest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Completely output the output buffer content. </p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">Dest</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">Dest</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">void</span> <span class="n">write_to</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">void</span> <span class="n">write_to</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">write_to(Dest</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Dest</strong> – Byte putter type </p></li>
<li><p><strong>It</strong> – Output iterator type </p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dest</strong> – Byte putter </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd19buffered_dispatcher3getEv">
<span id="_CPPv3N3upd19buffered_dispatcher3getEv"></span><span id="_CPPv2N3upd19buffered_dispatcher3getEv"></span><span id="upd::buffered_dispatcher::get"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a38e8b30b5ed7f7f361c64043ebeb3d0e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="serialization.html#_CPPv4N3upd6byte_tE" title="upd::byte_t"><span class="n"><span class="pre">byte_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd19buffered_dispatcher3getEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Output one byte from the output buffer. </p>
<p>If the output buffer is empty, the function will return an arbitrary value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the next byte in the output buffer (if it is not empty) or an arbitrary value </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_7index_t0_1FEN3upd19buffered_dispatcher7replaceEv11unevaluatedI1F4FtorE">
<span id="_CPPv3I_7index_t0_1FEN3upd19buffered_dispatcher7replaceE11unevaluatedI1F4FtorE"></span><span id="_CPPv2I_7index_t0_1FEN3upd19buffered_dispatcher7replaceE11unevaluatedI1F4FtorE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N3upd19buffered_dispatcher7index_tE" title="upd::buffered_dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Index</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I_7index_t0_1FEN3upd19buffered_dispatcher7replaceEv11unevaluatedI1F4FtorE" title="upd::buffered_dispatcher::replace::F"><span class="n"><span class="pre">F</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Ftor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher_1a4061f2c8a23d0fd66cec6a87cc4bb3d9"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replace</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="shared.html#_CPPv4I0_1TEN3upd11unevaluatedE" title="upd::unevaluated"><span class="n"><span class="pre">unevaluated</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I_7index_t0_1FEN3upd19buffered_dispatcher7replaceEv11unevaluatedI1F4FtorE" title="upd::buffered_dispatcher::replace::F"><span class="n"><span class="pre">F</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I_7index_t0_1FEN3upd19buffered_dispatcher7replaceEv11unevaluatedI1F4FtorE" title="upd::buffered_dispatcher::replace::Ftor"><span class="n"><span class="pre">Ftor</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_7index_t0_1FEN3upd19buffered_dispatcher7replaceEv11unevaluatedI1F4FtorE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Replace with a free function or a callback with static storage duration. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Index</strong> – Index of the action to replace </p></li>
<li><p><strong>Ftor</strong> – Free function or callback with static storage duration </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN3upd19buffered_dispatcherclE13packet_statusRR3SrcRR4Dest">
<span id="_CPPv3I00EN3upd19buffered_dispatcherclERR3SrcRR4Dest"></span><span id="_CPPv2I00EN3upd19buffered_dispatcherclERR3SrcRR4Dest"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Src</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Dest</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher_1ae1467e74b05b513057663acbaaec7cce"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">()</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherclE13packet_statusRR3SrcRR4Dest" title="upd::buffered_dispatcher::operator()::Src"><span class="n"><span class="pre">Src</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span>, <a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherclE13packet_statusRR3SrcRR4Dest" title="upd::buffered_dispatcher::operator()::Dest"><span class="n"><span class="pre">Dest</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN3upd19buffered_dispatcherclE13packet_statusRR3SrcRR4Dest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Call read_from() then write_to()</p>
<p>write_to() is called if and only the output buffer has been populated by read_from().</p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">operator()(Src</span> <span class="pre">&amp;&amp;,</span> <span class="pre">Dest</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Input</strong> – Input byte stream type of any kind </p></li>
<li><p><strong>Output</strong> – Output byte stream type of any kind</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>src</strong> – Byte getter </p></li>
<li><p><strong>dest</strong> – Byte putter </p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the  enumerator instance resulting from the read_from() call </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_7index_t_RDaEN3upd19buffered_dispatcher7replaceEvv">
<span id="_CPPv3I_7index_t_RDaEN3upd19buffered_dispatcher7replaceEv"></span><span id="_CPPv2I_7index_t_RDaEN3upd19buffered_dispatcher7replaceEv"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N3upd19buffered_dispatcher7index_tE" title="upd::buffered_dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Index</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">Ftor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher_1ac7c4f3c724155c298b7f040e43e869cb"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replace</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_7index_t_RDaEN3upd19buffered_dispatcher7replaceEvv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>(C++17) Replace with a free function or a callback with static storage duration </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Index</strong> – Index of the action to replace </p></li>
<li><p><strong>Ftor</strong> – Free function or callback with static storage duration </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_7index_t0EN3upd19buffered_dispatcher7replaceEvRR1F">
<span id="_CPPv3I_7index_t0EN3upd19buffered_dispatcher7replaceERR1F"></span><span id="_CPPv2I_7index_t0EN3upd19buffered_dispatcher7replaceERR1F"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N3upd19buffered_dispatcher7index_tE" title="upd::buffered_dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Index</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher_1a2dc63a5313745d6e12827e6937562ca7"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replace</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I_7index_t0EN3upd19buffered_dispatcher7replaceEvRR1F" title="upd::buffered_dispatcher::replace::F"><span class="n"><span class="pre">F</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ftor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_7index_t0EN3upd19buffered_dispatcher7replaceEvRR1F" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Replace with a callback of any kind. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Index</strong> – Index of the action to replace </p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ftor</strong> – Callback of any kind </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00EN3upd19buffered_dispatcher5replyEbRR6Output3Key">
<span id="_CPPv3I00EN3upd19buffered_dispatcher5replyERR6Output3Key"></span><span id="_CPPv2I00EN3upd19buffered_dispatcher5replyERR6Output3Key"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Output</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Key</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1buffered__dispatcher_1aa6a58e9ac7411665d942f3d97f3daa03"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reply</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcher5replyEbRR6Output3Key" title="upd::buffered_dispatcher::reply::Output"><span class="n"><span class="pre">Output</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">output</span></span>, <a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcher5replyEbRR6Output3Key" title="upd::buffered_dispatcher::reply::Key"><span class="n"><span class="pre">Key</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">k</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN3upd19buffered_dispatcher5replyEbRR6Output3Key" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Forward the content of the output buffer to another dispatcher as an action request. </p>
<p>This function send an action request to the other dispatcher, which is supposed to process directly the content of the output buffer. The requested action must accept a single byte buffer as sole argument (the size of the buffer can be choosen at compile time). The content of the received byte sequence is the same as if it was written by write_to(), so it can be deserialized inside the requested action by using the key that was used to populate the output buffer.</p>
<p>This function can only be used if the data in the output buffer is complete (i.e. if no call to get() has been made since the last packet resolution) and if the requested action buffer is large enough to hold all the data to send. When this function has finished executing, the output buffer is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Output byte stream of any kind </p></li>
<li><p><strong>k</strong> – Key of the action to request on the other dispatcher </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if the content of the output buffer has been written to the output byte stream </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd19buffered_dispatcherixE7index_t">
<span id="_CPPv3N3upd19buffered_dispatcherixE7index_t"></span><span id="_CPPv2N3upd19buffered_dispatcherixE7index_t"></span><span id="upd::buffered_dispatcher::subscript-operator__index_t"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a9bd287bf59e353c4afa6081018566eca"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">action_t</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">[]</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N3upd19buffered_dispatcher7index_tE" title="upd::buffered_dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd19buffered_dispatcherixE7index_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get one of the stored actions. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>No bound check is performed. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> – Index of an action </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the action associated with that index </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3upd19buffered_dispatcherixE7index_t">
<span id="_CPPv3NK3upd19buffered_dispatcherixE7index_t"></span><span id="_CPPv2NK3upd19buffered_dispatcherixE7index_t"></span><span id="upd::buffered_dispatcher::subscript-operator__index_tC"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a3257c9d2cda9e3b20b7127de8c465581"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">action_t</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">[]</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N3upd19buffered_dispatcher7index_tE" title="upd::buffered_dispatcher::index_t"><span class="n"><span class="pre">index_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3upd19buffered_dispatcherixE7index_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get one of the stored actions. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>No bound check is performed. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> – Index of an action </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the action associated with that index </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="single-buffered-dispatcher">
<h3><code class="docutils literal notranslate"><span class="pre">single_buffered_dispatcher</span></code><a class="headerlink" href="#single-buffered-dispatcher" title="Permalink to this heading">¶</a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I0EN3upd26single_buffered_dispatcherE">
<span id="_CPPv3I0EN3upd26single_buffered_dispatcherE"></span><span id="_CPPv2I0EN3upd26single_buffered_dispatcherE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Dispatcher</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1single__buffered__dispatcher"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">single_buffered_dispatcher</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher"><span class="n"><span class="pre">buffered_dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0EN3upd26single_buffered_dispatcherE" title="upd::single_buffered_dispatcher"><span class="n"><span class="pre">single_buffered_dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0EN3upd26single_buffered_dispatcherE" title="upd::single_buffered_dispatcher::Dispatcher"><span class="n"><span class="pre">Dispatcher</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN3upd26single_buffered_dispatcherE" title="upd::single_buffered_dispatcher::Dispatcher"><span class="n"><span class="pre">Dispatcher</span></span></a><span class="p"><span class="pre">&gt;</span></span><a class="headerlink" href="#_CPPv4I0EN3upd26single_buffered_dispatcherE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Implements a dispatcher using a single buffer for input and output. </p>
<p>The buffer is allocated statically as a plain array. Its size is as small as possible for holding any action request and any action response.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is not possible to read a request and write a response at the same time. If you need to do that, use  <a class="reference internal" href="#classupd_1_1double__buffered__dispatcher"><span class="std std-ref">double_buffered_dispatcher</span></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Dispatcher</strong> – Underlying dispatcher type </p>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0_15action_featuresEN3upd26single_buffered_dispatcher26single_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE">
<span id="_CPPv3I0_15action_featuresEN3upd26single_buffered_dispatcher26single_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span id="_CPPv2I0_15action_featuresEN3upd26single_buffered_dispatcher26single_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Keyring</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">action_features</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action_Features</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1single__buffered__dispatcher_1ad266f7505c163c77244f04db0dbd1a28"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">single_buffered_dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd26single_buffered_dispatcher26single_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="upd::single_buffered_dispatcher::single_buffered_dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a>, <span class="n"><span class="pre">action_features_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd26single_buffered_dispatcher26single_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="upd::single_buffered_dispatcher::single_buffered_dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0_15action_featuresEN3upd26single_buffered_dispatcher26single_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize the underlying dispatcher. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Keyring</strong> – Keyring which holds the actions to be managed by the dispatcher </p></li>
<li><p><strong>Action_Features</strong> – Features of the actions managed by the dispatcher </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26single_buffered_dispatcher26single_buffered_dispatcherEv">
<span id="_CPPv3N3upd26single_buffered_dispatcher26single_buffered_dispatcherEv"></span><span id="_CPPv2N3upd26single_buffered_dispatcher26single_buffered_dispatcherEv"></span><span id="upd::single_buffered_dispatcher::single_buffered_dispatcher"></span><span class="target" id="classupd_1_1single__buffered__dispatcher_1a7a4827b3d1dbb61b673579da5ab1a8c8"></span><span class="sig-name descname"><span class="n"><span class="pre">single_buffered_dispatcher</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N3upd26single_buffered_dispatcher26single_buffered_dispatcherEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize the underlying dispatcher. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3upd26single_buffered_dispatcher9is_loadedEv">
<span id="_CPPv3NK3upd26single_buffered_dispatcher9is_loadedEv"></span><span id="_CPPv2NK3upd26single_buffered_dispatcher9is_loadedEv"></span><span id="upd::single_buffered_dispatcher::is_loadedC"></span><span class="target" id="classupd_1_1buffered__dispatcher_1adb52b1c00e9885f7cba1b3432fb19f58"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_loaded</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3upd26single_buffered_dispatcher9is_loadedEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Indicates whether the output buffer contains data to send. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if the next call to put() or write_to() will have a visible effect </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26single_buffered_dispatcher9read_fromERR3Src">
<span id="_CPPv3N3upd26single_buffered_dispatcher9read_fromERR3Src"></span><span id="_CPPv2N3upd26single_buffered_dispatcher9read_fromERR3Src"></span><span id="upd::single_buffered_dispatcher::read_from__SrcRR"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a46d11f7bd63339f2f608db57d04e5440"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_from</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Src</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26single_buffered_dispatcher9read_fromERR3Src" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put bytes into the input buffer until a full action request is stored. </p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">Src</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">Src</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">R</span> <span class="n">read_from</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">R</span> <span class="n">read_from</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">read_from(Src</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Src</strong> – Byte getter type </p></li>
<li><p><strong>It</strong> – Input iterator type </p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src</strong> – Byte getter </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>one of the following :<ul class="simple">
<li><p>packet_status::DROPPED_PACKET: The received index was invalid and the input buffer content was therefore discarded.</p></li>
<li><p>packet_status::RESOLVED_PACKET: The packet was fully loaded and the associated action has been called (the input buffer is empty and the output buffer contains the result of the action invocation). </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26single_buffered_dispatcher3putE6byte_t">
<span id="_CPPv3N3upd26single_buffered_dispatcher3putE6byte_t"></span><span id="_CPPv2N3upd26single_buffered_dispatcher3putE6byte_t"></span><span id="upd::single_buffered_dispatcher::put__byte_t"></span><span class="target" id="classupd_1_1buffered__dispatcher_1afae9426f63703ae32115ecac4b3aeac5"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">put</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="serialization.html#_CPPv4N3upd6byte_tE" title="upd::byte_t"><span class="n"><span class="pre">byte_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">byte</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26single_buffered_dispatcher3putE6byte_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put one byte into the input buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>byte</strong> – Byte to put </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>one of the following :<ul class="simple">
<li><p>packet_status::LOADING_PACKET: The packet is not yet fully loaded.</p></li>
<li><p>packet_status::DROPPED_PACKET: The received index was invalid and the input buffer content was therefore discarded.</p></li>
<li><p>packet_status::RESOLVED_PACKET: The packet was fully loaded and the associated action has been called (the input buffer is empty and the output buffer contains the result of the action invocation). </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26single_buffered_dispatcher8write_toERR4Dest">
<span id="_CPPv3N3upd26single_buffered_dispatcher8write_toERR4Dest"></span><span id="_CPPv2N3upd26single_buffered_dispatcher8write_toERR4Dest"></span><span id="upd::single_buffered_dispatcher::write_to__DestRR"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a21551d0c04378888df3121e4268f1e95"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write_to</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Dest</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26single_buffered_dispatcher8write_toERR4Dest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Completely output the output buffer content. </p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">Dest</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">Dest</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">void</span> <span class="n">write_to</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">void</span> <span class="n">write_to</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">write_to(Dest</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Dest</strong> – Byte putter type </p></li>
<li><p><strong>It</strong> – Output iterator type </p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dest</strong> – Byte putter </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26single_buffered_dispatcher3getEv">
<span id="_CPPv3N3upd26single_buffered_dispatcher3getEv"></span><span id="_CPPv2N3upd26single_buffered_dispatcher3getEv"></span><span id="upd::single_buffered_dispatcher::get"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a38e8b30b5ed7f7f361c64043ebeb3d0e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="serialization.html#_CPPv4N3upd6byte_tE" title="upd::byte_t"><span class="n"><span class="pre">byte_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26single_buffered_dispatcher3getEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Output one byte from the output buffer. </p>
<p>If the output buffer is empty, the function will return an arbitrary value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the next byte in the output buffer (if it is not empty) or an arbitrary value </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26single_buffered_dispatcherclERR3SrcRR4Dest">
<span id="_CPPv3N3upd26single_buffered_dispatcherclERR3SrcRR4Dest"></span><span id="_CPPv2N3upd26single_buffered_dispatcherclERR3SrcRR4Dest"></span><span id="upd::single_buffered_dispatcher::call-operator__SrcRR.DestRR"></span><span class="target" id="classupd_1_1buffered__dispatcher_1ae1467e74b05b513057663acbaaec7cce"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">()</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Src</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span>, <span class="n"><span class="pre">Dest</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26single_buffered_dispatcherclERR3SrcRR4Dest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Call read_from() then write_to()</p>
<p>write_to() is called if and only the output buffer has been populated by read_from().</p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">operator()(Src</span> <span class="pre">&amp;&amp;,</span> <span class="pre">Dest</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Input</strong> – Input byte stream type of any kind </p></li>
<li><p><strong>Output</strong> – Output byte stream type of any kind</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>src</strong> – Byte getter </p></li>
<li><p><strong>dest</strong> – Byte putter </p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the  enumerator instance resulting from the read_from() call </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26single_buffered_dispatcher5replyERR6Output3Key">
<span id="_CPPv3N3upd26single_buffered_dispatcher5replyERR6Output3Key"></span><span id="_CPPv2N3upd26single_buffered_dispatcher5replyERR6Output3Key"></span><span id="upd::single_buffered_dispatcher::reply__OutputRR.Key"></span><span class="target" id="classupd_1_1buffered__dispatcher_1aa6a58e9ac7411665d942f3d97f3daa03"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reply</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Output</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">output</span></span>, <span class="n"><span class="pre">Key</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">k</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26single_buffered_dispatcher5replyERR6Output3Key" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Forward the content of the output buffer to another dispatcher as an action request. </p>
<p>This function send an action request to the other dispatcher, which is supposed to process directly the content of the output buffer. The requested action must accept a single byte buffer as sole argument (the size of the buffer can be choosen at compile time). The content of the received byte sequence is the same as if it was written by write_to(), so it can be deserialized inside the requested action by using the key that was used to populate the output buffer.</p>
<p>This function can only be used if the data in the output buffer is complete (i.e. if no call to get() has been made since the last packet resolution) and if the requested action buffer is large enough to hold all the data to send. When this function has finished executing, the output buffer is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Output byte stream of any kind </p></li>
<li><p><strong>k</strong> – Key of the action to request on the other dispatcher </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if the content of the output buffer has been written to the output byte stream </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-attributes">Public Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26single_buffered_dispatcher11buffer_sizeE">
<span id="_CPPv3N3upd26single_buffered_dispatcher11buffer_sizeE"></span><span id="_CPPv2N3upd26single_buffered_dispatcher11buffer_sizeE"></span><span id="upd::single_buffered_dispatcher::buffer_size__auto"></span><span class="target" id="classupd_1_1single__buffered__dispatcher_1ac7b2444667cd6005d324d95a60125159"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffer_size</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">max_p</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">needed_input_buffer_size</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">keyring_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">needed_output_buffer_size</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">keyring_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">value</span></span><a class="headerlink" href="#_CPPv4N3upd26single_buffered_dispatcher11buffer_sizeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Equals the size of the buffer. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-related">Related</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0_15action_featuresEN3upd26single_buffered_dispatcher31make_single_buffered_dispatcherEDa7Keyring17action_features_hI15Action_FeaturesE">
<span id="_CPPv3I0_15action_featuresEN3upd26single_buffered_dispatcher31make_single_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span id="_CPPv2I0_15action_featuresEN3upd26single_buffered_dispatcher31make_single_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Keyring</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">action_features</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action_Features</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1single__buffered__dispatcher_1a6852483cce1af1c090bb0263f2c37eea"></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">make_single_buffered_dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd26single_buffered_dispatcher31make_single_buffered_dispatcherEDa7Keyring17action_features_hI15Action_FeaturesE" title="upd::single_buffered_dispatcher::make_single_buffered_dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a>, <span class="n"><span class="pre">action_features_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd26single_buffered_dispatcher31make_single_buffered_dispatcherEDa7Keyring17action_features_hI15Action_FeaturesE" title="upd::single_buffered_dispatcher::make_single_buffered_dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0_15action_featuresEN3upd26single_buffered_dispatcher31make_single_buffered_dispatcherEDa7Keyring17action_features_hI15Action_FeaturesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Make a single buffered dispatcher. </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="double-buffered-dispatcher">
<h3><code class="docutils literal notranslate"><span class="pre">double_buffered_dispatcher</span></code><a class="headerlink" href="#double-buffered-dispatcher" title="Permalink to this heading">¶</a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I0EN3upd26double_buffered_dispatcherE">
<span id="_CPPv3I0EN3upd26double_buffered_dispatcherE"></span><span id="_CPPv2I0EN3upd26double_buffered_dispatcherE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Dispatcher</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1double__buffered__dispatcher"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">double_buffered_dispatcher</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4I00EN3upd19buffered_dispatcherE" title="upd::buffered_dispatcher"><span class="n"><span class="pre">buffered_dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0EN3upd26double_buffered_dispatcherE" title="upd::double_buffered_dispatcher"><span class="n"><span class="pre">double_buffered_dispatcher</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0EN3upd26double_buffered_dispatcherE" title="upd::double_buffered_dispatcher::Dispatcher"><span class="n"><span class="pre">Dispatcher</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN3upd26double_buffered_dispatcherE" title="upd::double_buffered_dispatcher::Dispatcher"><span class="n"><span class="pre">Dispatcher</span></span></a><span class="p"><span class="pre">&gt;</span></span><a class="headerlink" href="#_CPPv4I0EN3upd26double_buffered_dispatcherE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Implements a dispatcher using separate buffers for input and output. </p>
<p>The buffers are allocated statically as plain arrays. Their sizes are as small as possible for holding any action request and any action response.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you would rather having a single buffer and do not mind reading and writing at different moment, consider using  <a class="reference internal" href="#classupd_1_1single__buffered__dispatcher"><span class="std std-ref">single_buffered_dispatcher</span></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Dispatcher</strong> – Underlying dispatcher type </p>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0_15action_featuresEN3upd26double_buffered_dispatcher26double_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE">
<span id="_CPPv3I0_15action_featuresEN3upd26double_buffered_dispatcher26double_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span id="_CPPv2I0_15action_featuresEN3upd26double_buffered_dispatcher26double_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Keyring</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">action_features</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action_Features</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1double__buffered__dispatcher_1a1b52b03061d5988c2f9a52fc9f6a01b7"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">double_buffered_dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd26double_buffered_dispatcher26double_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="upd::double_buffered_dispatcher::double_buffered_dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a>, <span class="n"><span class="pre">action_features_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd26double_buffered_dispatcher26double_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="upd::double_buffered_dispatcher::double_buffered_dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0_15action_featuresEN3upd26double_buffered_dispatcher26double_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize the underlying dispatcher. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Keyring</strong> – Keyring which holds the actions to be managed by the dispatcher </p></li>
<li><p><strong>Action_Features</strong> – Features of the actions managed by the dispatcher </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcher26double_buffered_dispatcherEv">
<span id="_CPPv3N3upd26double_buffered_dispatcher26double_buffered_dispatcherEv"></span><span id="_CPPv2N3upd26double_buffered_dispatcher26double_buffered_dispatcherEv"></span><span id="upd::double_buffered_dispatcher::double_buffered_dispatcher"></span><span class="target" id="classupd_1_1double__buffered__dispatcher_1a05e277686b738cfb6e73fa69a4a0c5dd"></span><span class="sig-name descname"><span class="n"><span class="pre">double_buffered_dispatcher</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcher26double_buffered_dispatcherEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize the underlying dispatcher. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3upd26double_buffered_dispatcher9is_loadedEv">
<span id="_CPPv3NK3upd26double_buffered_dispatcher9is_loadedEv"></span><span id="_CPPv2NK3upd26double_buffered_dispatcher9is_loadedEv"></span><span id="upd::double_buffered_dispatcher::is_loadedC"></span><span class="target" id="classupd_1_1buffered__dispatcher_1adb52b1c00e9885f7cba1b3432fb19f58"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_loaded</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3upd26double_buffered_dispatcher9is_loadedEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Indicates whether the output buffer contains data to send. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if the next call to put() or write_to() will have a visible effect </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcher9read_fromERR3Src">
<span id="_CPPv3N3upd26double_buffered_dispatcher9read_fromERR3Src"></span><span id="_CPPv2N3upd26double_buffered_dispatcher9read_fromERR3Src"></span><span id="upd::double_buffered_dispatcher::read_from__SrcRR"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a46d11f7bd63339f2f608db57d04e5440"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_from</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Src</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcher9read_fromERR3Src" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put bytes into the input buffer until a full action request is stored. </p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">Src</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">Src</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">R</span> <span class="n">read_from</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">R</span> <span class="n">read_from</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">R</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">read_from(Src</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Src</strong> – Byte getter type </p></li>
<li><p><strong>It</strong> – Input iterator type </p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src</strong> – Byte getter </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>one of the following :<ul class="simple">
<li><p>packet_status::DROPPED_PACKET: The received index was invalid and the input buffer content was therefore discarded.</p></li>
<li><p>packet_status::RESOLVED_PACKET: The packet was fully loaded and the associated action has been called (the input buffer is empty and the output buffer contains the result of the action invocation). </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcher3putE6byte_t">
<span id="_CPPv3N3upd26double_buffered_dispatcher3putE6byte_t"></span><span id="_CPPv2N3upd26double_buffered_dispatcher3putE6byte_t"></span><span id="upd::double_buffered_dispatcher::put__byte_t"></span><span class="target" id="classupd_1_1buffered__dispatcher_1afae9426f63703ae32115ecac4b3aeac5"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">put</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="serialization.html#_CPPv4N3upd6byte_tE" title="upd::byte_t"><span class="n"><span class="pre">byte_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">byte</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcher3putE6byte_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put one byte into the input buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>byte</strong> – Byte to put </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>one of the following :<ul class="simple">
<li><p>packet_status::LOADING_PACKET: The packet is not yet fully loaded.</p></li>
<li><p>packet_status::DROPPED_PACKET: The received index was invalid and the input buffer content was therefore discarded.</p></li>
<li><p>packet_status::RESOLVED_PACKET: The packet was fully loaded and the associated action has been called (the input buffer is empty and the output buffer contains the result of the action invocation). </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcher8write_toERR4Dest">
<span id="_CPPv3N3upd26double_buffered_dispatcher8write_toERR4Dest"></span><span id="_CPPv2N3upd26double_buffered_dispatcher8write_toERR4Dest"></span><span id="upd::double_buffered_dispatcher::write_to__DestRR"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a21551d0c04378888df3121e4268f1e95"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write_to</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Dest</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcher8write_toERR4Dest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Completely output the output buffer content. </p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">Dest</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">Dest</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">void</span> <span class="n">write_to</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">void</span> <span class="n">write_to</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">void</span> <span class="n">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">write_to(Dest</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Dest</strong> – Byte putter type </p></li>
<li><p><strong>It</strong> – Output iterator type </p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dest</strong> – Byte putter </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcher3getEv">
<span id="_CPPv3N3upd26double_buffered_dispatcher3getEv"></span><span id="_CPPv2N3upd26double_buffered_dispatcher3getEv"></span><span id="upd::double_buffered_dispatcher::get"></span><span class="target" id="classupd_1_1buffered__dispatcher_1a38e8b30b5ed7f7f361c64043ebeb3d0e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="serialization.html#_CPPv4N3upd6byte_tE" title="upd::byte_t"><span class="n"><span class="pre">byte_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcher3getEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Output one byte from the output buffer. </p>
<p>If the output buffer is empty, the function will return an arbitrary value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the next byte in the output buffer (if it is not empty) or an arbitrary value </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcherclERR3SrcRR4Dest">
<span id="_CPPv3N3upd26double_buffered_dispatcherclERR3SrcRR4Dest"></span><span id="_CPPv2N3upd26double_buffered_dispatcherclERR3SrcRR4Dest"></span><span id="upd::double_buffered_dispatcher::call-operator__SrcRR.DestRR"></span><span class="target" id="classupd_1_1buffered__dispatcher_1ae1467e74b05b513057663acbaaec7cce"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd13packet_statusE" title="upd::packet_status"><span class="n"><span class="pre">packet_status</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">()</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Src</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span>, <span class="n"><span class="pre">Dest</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcherclERR3SrcRR4Dest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Call read_from() then write_to()</p>
<p>write_to() is called if and only the output buffer has been populated by read_from().</p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">operator()(Src</span> <span class="pre">&amp;&amp;,</span> <span class="pre">Dest</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Input</strong> – Input byte stream type of any kind </p></li>
<li><p><strong>Output</strong> – Output byte stream type of any kind</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>src</strong> – Byte getter </p></li>
<li><p><strong>dest</strong> – Byte putter </p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the  enumerator instance resulting from the read_from() call </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcher5replyERR6Output3Key">
<span id="_CPPv3N3upd26double_buffered_dispatcher5replyERR6Output3Key"></span><span id="_CPPv2N3upd26double_buffered_dispatcher5replyERR6Output3Key"></span><span id="upd::double_buffered_dispatcher::reply__OutputRR.Key"></span><span class="target" id="classupd_1_1buffered__dispatcher_1aa6a58e9ac7411665d942f3d97f3daa03"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reply</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Output</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">output</span></span>, <span class="n"><span class="pre">Key</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">k</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcher5replyERR6Output3Key" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Forward the content of the output buffer to another dispatcher as an action request. </p>
<p>This function send an action request to the other dispatcher, which is supposed to process directly the content of the output buffer. The requested action must accept a single byte buffer as sole argument (the size of the buffer can be choosen at compile time). The content of the received byte sequence is the same as if it was written by write_to(), so it can be deserialized inside the requested action by using the key that was used to populate the output buffer.</p>
<p>This function can only be used if the data in the output buffer is complete (i.e. if no call to get() has been made since the last packet resolution) and if the requested action buffer is large enough to hold all the data to send. When this function has finished executing, the output buffer is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Output byte stream of any kind </p></li>
<li><p><strong>k</strong> – Key of the action to request on the other dispatcher </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if the content of the output buffer has been written to the output byte stream </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-attributes">Public Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcher17input_buffer_sizeE">
<span id="_CPPv3N3upd26double_buffered_dispatcher17input_buffer_sizeE"></span><span id="_CPPv2N3upd26double_buffered_dispatcher17input_buffer_sizeE"></span><span id="upd::double_buffered_dispatcher::input_buffer_size__auto"></span><span class="target" id="classupd_1_1double__buffered__dispatcher_1a705b87bb2843c927732f451dc3e503fe"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">input_buffer_size</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">needed_input_buffer_size</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">keyring_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">value</span></span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcher17input_buffer_sizeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Equals the size of the input buffer. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd26double_buffered_dispatcher18output_buffer_sizeE">
<span id="_CPPv3N3upd26double_buffered_dispatcher18output_buffer_sizeE"></span><span id="_CPPv2N3upd26double_buffered_dispatcher18output_buffer_sizeE"></span><span id="upd::double_buffered_dispatcher::output_buffer_size__auto"></span><span class="target" id="classupd_1_1double__buffered__dispatcher_1a9c9da683dda30ee10bff8597e7e75874"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">output_buffer_size</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">needed_output_buffer_size</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">keyring_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">value</span></span><a class="headerlink" href="#_CPPv4N3upd26double_buffered_dispatcher18output_buffer_sizeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Equals the size of the output buffer. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-related">Related</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0_15action_featuresEN3upd26double_buffered_dispatcher31make_double_buffered_dispatcherEDa7Keyring17action_features_hI15Action_FeaturesE">
<span id="_CPPv3I0_15action_featuresEN3upd26double_buffered_dispatcher31make_double_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span id="_CPPv2I0_15action_featuresEN3upd26double_buffered_dispatcher31make_double_buffered_dispatcherE7Keyring17action_features_hI15Action_FeaturesE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Keyring</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">action_features</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action_Features</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1double__buffered__dispatcher_1ad6b081dbbfb511089c61a5570feb2616"></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">make_double_buffered_dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd26double_buffered_dispatcher31make_double_buffered_dispatcherEDa7Keyring17action_features_hI15Action_FeaturesE" title="upd::double_buffered_dispatcher::make_double_buffered_dispatcher::Keyring"><span class="n"><span class="pre">Keyring</span></span></a>, <span class="n"><span class="pre">action_features_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_15action_featuresEN3upd26double_buffered_dispatcher31make_double_buffered_dispatcherEDa7Keyring17action_features_hI15Action_FeaturesE" title="upd::double_buffered_dispatcher::make_double_buffered_dispatcher::Action_Features"><span class="n"><span class="pre">Action_Features</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0_15action_featuresEN3upd26double_buffered_dispatcher31make_double_buffered_dispatcherEDa7Keyring17action_features_hI15Action_FeaturesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Make a double buffered dispatcher. </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="packet-status">
<h3><code class="docutils literal notranslate"><span class="pre">packet_status</span></code><a class="headerlink" href="#packet-status" title="Permalink to this heading">¶</a></h3>
<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N3upd13packet_statusE">
<span id="_CPPv3N3upd13packet_statusE"></span><span id="_CPPv2N3upd13packet_statusE"></span><span class="target" id="buffered__dispatcher_8hpp_1a19dc2b22885c66175e6b7666c5029d1b"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">packet_status</span></span></span><a class="headerlink" href="#_CPPv4N3upd13packet_statusE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enumerates the possible status of a loading packet. </p>
<p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LOADING_PACKET</span></code>: The packet is currently being loaded and is not yet complete</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DROPPED_PACKET</span></code>: The packet loading has been canceled before completion</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RESOLVED_PACKET</span></code>: The packet loading has been completed and the corresponding action has been called </p></li>
</ul>
</p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3upd13packet_status14LOADING_PACKETE">
<span id="_CPPv3N3upd13packet_status14LOADING_PACKETE"></span><span id="_CPPv2N3upd13packet_status14LOADING_PACKETE"></span><span class="target" id="buffered__dispatcher_8hpp_1a19dc2b22885c66175e6b7666c5029d1baed65978d49f4d39d879d6b9b96d110a7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOADING_PACKET</span></span></span><a class="headerlink" href="#_CPPv4N3upd13packet_status14LOADING_PACKETE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3upd13packet_status14DROPPED_PACKETE">
<span id="_CPPv3N3upd13packet_status14DROPPED_PACKETE"></span><span id="_CPPv2N3upd13packet_status14DROPPED_PACKETE"></span><span class="target" id="buffered__dispatcher_8hpp_1a19dc2b22885c66175e6b7666c5029d1ba40a2a18ea0f4b588bdacff2f701a0798"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DROPPED_PACKET</span></span></span><a class="headerlink" href="#_CPPv4N3upd13packet_status14DROPPED_PACKETE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3upd13packet_status15RESOLVED_PACKETE">
<span id="_CPPv3N3upd13packet_status15RESOLVED_PACKETE"></span><span id="_CPPv2N3upd13packet_status15RESOLVED_PACKETE"></span><span class="target" id="buffered__dispatcher_8hpp_1a19dc2b22885c66175e6b7666c5029d1ba8ed8d200de4359a761a26a862a13cab0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">RESOLVED_PACKET</span></span></span><a class="headerlink" href="#_CPPv4N3upd13packet_status15RESOLVED_PACKETE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="policies">
<h3>Policies<a class="headerlink" href="#policies" title="Permalink to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenvariable: Cannot find variable “upd::policy::any_action” in doxygen xml output for project “Unpadded” from directory: /home/runner/work/Unpadded/Unpadded/build/doc/xml</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenvariable: Cannot find variable “upd::policy::static_storage_duration_only” in doxygen xml output for project “Unpadded” from directory: /home/runner/work/Unpadded/Unpadded/build/doc/xml</p>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Unpadded</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="shared.html">Sharing RPC convention</a></li>
<li class="toctree-l1"><a class="reference internal" href="caller.html">Implementing caller side</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Implementing callee side</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basics-fulfiling-incoming-request-with-dispatchers">Basics : fulfiling incoming request with dispatchers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#buffered-dispatchers-vs-non-buffered-dispatchers">Buffered dispatchers vs. non-buffered dispatchers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#single-buffered-dispatchers-vs-double-buffered-dispatchers">Single buffered dispatchers vs. double buffered dispatchers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hot-swapping-callbacks">Hot swapping callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#storage-policy">Storage policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-references">API References</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dispatcher"><code class="docutils literal notranslate"><span class="pre">dispatcher</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#buffered-dispatcher"><code class="docutils literal notranslate"><span class="pre">buffered_dispatcher</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#single-buffered-dispatcher"><code class="docutils literal notranslate"><span class="pre">single_buffered_dispatcher</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#double-buffered-dispatcher"><code class="docutils literal notranslate"><span class="pre">double_buffered_dispatcher</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#packet-status"><code class="docutils literal notranslate"><span class="pre">packet_status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#policies">Policies</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="serialization.html">Serialization tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Extending Unpadded to Python</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="caller.html" title="previous chapter">Implementing caller side</a></li>
      <li>Next: <a href="serialization.html" title="next chapter">Serialization tools</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/callee.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>