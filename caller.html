<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Implementing caller side &mdash; Python  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Implementing callee side" href="callee.html" />
    <link rel="prev" title="Sharing RPC convention" href="shared.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Python
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="shared.html">Sharing RPC convention</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Implementing caller side</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basics-sending-request-with-keys">Basics : sending request with keys</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#handling-the-callee-response">Handling the callee response</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#blocking-mode">Blocking mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-blocking-mode">Non-blocking mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api-references">API References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="callee.html">Implementing callee side</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Implementing caller side</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/caller.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="implementing-caller-side">
<h1>Implementing caller side<a class="headerlink" href="#implementing-caller-side" title="Permalink to this headline"></a></h1>
<p>On the caller side, requesting a remote device to invoke a function is pretty much like a regular function invocation. The types of the arguments are checked at compile-time. The type of the return value is also available at compile-time.</p>
<p>What Unpadded does for you is generating the packet and sending them byte by byte with a user-provided callback. What remains to be handled is the implementation of the aforesaid callback and the packets encapsulation, if you need one.</p>
<p>The following sections will assume these functions to be defined by the master device:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">write_byte_to_slave</span><span class="p">(</span><span class="n">upd</span><span class="o">::</span><span class="n">byte_t</span><span class="p">);</span>
<span class="n">upd</span><span class="o">::</span><span class="n">byte_t</span> <span class="n">read_byte_from_slave</span><span class="p">();</span>
</pre></div>
</div>
<section id="basics-sending-request-with-keys">
<h2>Basics : sending request with keys<a class="headerlink" href="#basics-sending-request-with-keys" title="Permalink to this headline"></a></h2>
<p>Preparing a packet for a request is done by using keys from the corresponding keyring. Let say we defined a <code class="docutils literal notranslate"><span class="pre">keyring</span></code> object holding the function <code class="docutils literal notranslate"><span class="pre">f</span></code> of signature <code class="docutils literal notranslate"><span class="pre">void(std::uint8_t,</span> <span class="pre">std::uint16_t)</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// We create a key to `f`.</span>
<span class="k">auto</span> <span class="n">key</span> <span class="o">=</span> <span class="n">keyring</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="n">f</span><span class="o">&gt;</span><span class="p">();</span>

<span class="c1">// Then we generate the packet and write every byte of it to the slave device.</span>
<span class="c1">// On the remote device, ``f`` will be invoked on the arguments ``16`` and ``64``.</span>
<span class="n">key</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">64</span><span class="p">).</span><span class="n">write_all</span><span class="p">(</span><span class="n">write_byte_to_master</span><span class="p">);</span>

<span class="c1">// This line does the same thing, but with another syntax.</span>
<span class="n">key</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">write_byte_to_master</span><span class="p">;</span>
</pre></div>
</div>
<p>If argument types does not match, the compiler will tell you.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="kt">uint8_t</span> <span class="n">array</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x11</span><span class="p">,</span> <span class="mh">0x22</span><span class="p">};</span>
<span class="k">auto</span> <span class="n">key</span> <span class="o">=</span> <span class="n">keyring</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="n">f</span><span class="o">&gt;</span><span class="p">();</span>

<span class="c1">// What are you doing ?</span>
<span class="c1">//      vvvvv</span>
<span class="n">key</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="n">array</span><span class="p">).</span><span class="n">write_all</span><span class="p">(</span><span class="n">write_byte_to_master</span><span class="p">);</span>
</pre></div>
</div>
<p>Once sent, the packet must be received by a dispatcher. See <span class="xref std std-ref">receive-request</span>.</p>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline"></a></h3>
<p>In the follwing example, we are requesting the slave device to spiral faster and faster.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">motion_keyring.hpp</span><a class="headerlink" href="#id1" title="Permalink to this code"></a></div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">&lt;cstdint&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&lt;upd/keyring.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;upd/typelist.hpp&gt;</span><span class="cp"></span>

<span class="kt">void</span> <span class="nf">set_forward_speed</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">set_left_steering_speed</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">set_right_steering_speed</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">uint32_t</span><span class="p">);</span>

<span class="k">constexpr</span> <span class="n">upd</span><span class="o">::</span><span class="n">keyring</span> <span class="n">motion_keyring</span><span class="p">{</span>
  <span class="n">upd</span><span class="o">::</span><span class="n">flist</span><span class="o">&lt;</span><span class="n">set_forward_speed</span><span class="p">,</span> <span class="n">set_left_steering_speed</span><span class="p">,</span> <span class="n">set_right_steering_speed</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="n">upd</span><span class="o">::</span><span class="n">little_endian</span><span class="p">,</span>
  <span class="n">upd</span><span class="o">::</span><span class="n">two_complement</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">master.cpp</span><a class="headerlink" href="#id2" title="Permalink to this code"></a></div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;motion_keyring.hpp&quot;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kt">uint32_t</span> <span class="n">speed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">speed</span> <span class="o">&lt;</span> <span class="mi">20000</span><span class="p">;</span> <span class="n">speed</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">set_forward_speed_k</span> <span class="o">=</span> <span class="n">motion_keyring</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="n">set_forward_speed</span><span class="o">&gt;</span><span class="p">();</span>
    <span class="k">auto</span> <span class="n">set_left_steering_speed_k</span> <span class="o">=</span> <span class="n">motion_keyring</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="n">set_left_steering_speed</span><span class="o">&gt;</span><span class="p">();</span>

    <span class="n">set_forward_speed_k</span><span class="p">(</span><span class="n">speed</span><span class="p">).</span><span class="n">write_all</span><span class="p">(</span><span class="n">write_byte_to_slave</span><span class="p">);</span>
    <span class="n">set_left_steering_speed_k</span><span class="p">(</span><span class="n">speed</span><span class="p">).</span><span class="n">write_all</span><span class="p">(</span><span class="n">write_byte_to_slave</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="handling-the-callee-response">
<h2>Handling the callee response<a class="headerlink" href="#handling-the-callee-response" title="Permalink to this headline"></a></h2>
<p>You are free to ignore the result of an invocation request if you don’t need it. Unpadded won’t handle the response from the callee automatically. If you need to, there is two different way to proceed. Either you send a request then wait until the slave device is done (blocking mode) or you hook a callback to be invoked when receiving a response from the slave device (non-blocking mode).</p>
<section id="blocking-mode">
<h3>Blocking mode<a class="headerlink" href="#blocking-mode" title="Permalink to this headline"></a></h3>
<p>In blocking mode, keys must be used to extract the invocaiton request result out of the packet sent back to the master device.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// We assume that a `keyring` object has been defined and holds a function `f` of signature `std::uint8_t(std::uint16_t)`</span>

<span class="k">auto</span> <span class="n">key</span> <span class="o">=</span> <span class="n">keyring</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="n">f</span><span class="o">&gt;</span><span class="p">();</span>

<span class="c1">// First we send a request to the slave device</span>
<span class="n">key</span><span class="p">(</span><span class="mi">64</span><span class="p">).</span><span class="n">write_all</span><span class="p">(</span><span class="n">write_byte_to_slave</span><span class="p">);</span>

<span class="c1">// Let&#39;s wait a little for the slave device to completely fulfill the request</span>

<span class="c1">// Then we receive its response</span>
<span class="c1">// `x` type is `std::uint8_t`</span>
<span class="k">auto</span> <span class="n">x</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">read_all</span><span class="p">(</span><span class="n">read_byte_from_slave</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="non-blocking-mode">
<h3>Non-blocking mode<a class="headerlink" href="#non-blocking-mode" title="Permalink to this headline"></a></h3>
<p>In non-blocking mode, the <code class="docutils literal notranslate"><span class="pre">action</span></code> class must be used to store a callback for later.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// We assume that a `keyring` object has been defined and holds a function `f` of signature `std::uint8_t(std::uint16_t)`</span>

<span class="k">static</span> <span class="n">upd</span><span class="o">::</span><span class="n">action</span> <span class="n">action</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">send_request</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">auto</span> <span class="n">key</span> <span class="o">=</span> <span class="n">keyring</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="n">f</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="c1">// We send the request...</span>
  <span class="n">key</span><span class="p">(</span><span class="mi">64</span><span class="p">).</span><span class="n">write_all</span><span class="p">(</span><span class="n">write_byte_to_slave</span><span class="p">);</span>

  <span class="c1">// ...and then, we save our callback for later</span>
  <span class="n">action</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">with_hook</span><span class="p">([](</span><span class="k">auto</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/** processing the response **/</span> <span class="p">});</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">process_response</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Our callback is called !</span>
  <span class="n">action</span><span class="p">(</span><span class="n">read_byte_from_slave</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">send_request</span><span class="p">();</span>

  <span class="c1">// Meanwhile, we do other stuff...</span>

  <span class="n">process_response</span><span class="p">();</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">action</span></code> is non-templated, so it is suitable for storage.</p>
</section>
</section>
<section id="api-references">
<h2>API References<a class="headerlink" href="#api-references" title="Permalink to this headline"></a></h2>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE">
<span id="_CPPv3I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE"></span><span id="_CPPv2I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Index_T</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE" title="upd::key::Index_T"><span class="n"><span class="pre">Index_T</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Index</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd3key9endianessE" title="upd::key::endianess"><span class="n"><span class="pre">endianess</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Endianess</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd3key11signed_modeE" title="upd::key::signed_mode"><span class="n"><span class="pre">signed_mode</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Signed_Mode</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1key"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">key</span></span></span><a class="headerlink" href="#_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Packet generator for invoking an action on a slave device. </p>
<p>Keys will generate packets whose structure is the following:<ul class="simple">
<li><p>index of the action (value: <code class="docutils literal notranslate"><span class="pre">Index</span></code>; size: <code class="docutils literal notranslate"><span class="pre">sizeof</span> <span class="pre">Index</span></code>);</p></li>
<li><p>payload (size: <code class="docutils literal notranslate"><span class="pre">sizeof(Args)</span> <span class="pre">+</span> <span class="pre">...</span></code>);</p></li>
</ul>
</p>
<p>The index is used by the slave to determine which action is addressed (see <code class="docutils literal notranslate"><span class="pre">dispatcher</span></code>). The content of the payload is choosen by the user. In the following example<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="nb">int</span> <span class="n">function1</span><span class="p">(</span><span class="n">uint8_t</span><span class="p">,</span> <span class="n">uint16_t</span><span class="p">);</span> <span class="nb">int</span> <span class="n">function2</span><span class="p">(</span><span class="n">uint16_t</span><span class="p">,</span>
<span class="n">uint32_t</span><span class="p">);</span> <span class="nb">int</span> <span class="n">function3</span><span class="p">(</span><span class="n">uint32_t</span><span class="p">,</span> <span class="n">uint64_t</span><span class="p">);</span>

<span class="n">constexpr</span> <span class="n">keyring</span> <span class="n">keyring</span><span class="p">{</span><span class="n">flist</span><span class="o">&lt;</span><span class="n">function1</span><span class="p">,</span> <span class="n">function2</span><span class="p">,</span> <span class="n">function3</span><span class="o">&gt;</span><span class="p">};</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">auto</span> <span class="n">key</span> <span class="o">=</span> <span class="n">keyring</span><span class="o">.</span><span class="n">get</span><span class="o">&lt;</span><span class="n">function2</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="n">key</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="o">/*</span><span class="n">an</span> <span class="n">output</span> <span class="n">invocable</span><span class="o">*/</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
 the packet sent will have the following content:<ul class="simple">
<li><p>1 byte of index (value: 1)</p></li>
<li><p>2 bytes for the first argument of <code class="docutils literal notranslate"><span class="pre">function2</span></code> (type: <code class="docutils literal notranslate"><span class="pre">uint16_t</span></code>; value: 7)</p></li>
<li><p>4 bytes for the second argument of <code class="docutils literal notranslate"><span class="pre">function2</span></code> (type: <code class="docutils literal notranslate"><span class="pre">uint32_t</span></code>; value: 21)</p></li>
</ul>
</p>
<p>When the packet has been processed by the slave device and the resulting value is sent back to the master device, keys can be used to extract this value from the slave response. The syntax to achieve that is <code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">key</span> <span class="pre">&lt;&lt;</span> <span class="pre">/*an</span> <span class="pre">input</span> <span class="pre">invocable*</span><span class="pre">/</span></code>. However, key instances being templated, it is hard to store them for later. If blocking the program until the slave device response is not a viable option, it is possible to save a callback to be executed once the slave device has finished using the <code class="docutils literal notranslate"><span class="pre">ticket</span></code> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Index</strong> – Index of the action in the keyring </p></li>
<li><p><strong>F</strong> – Signature of the invocable associated with the key </p></li>
<li><p><strong>Endianess</strong> – Byte order of the integers in the generated packets </p></li>
<li><p><strong>Signed_Mode</strong> – Representation of signed integers in the generated packets </p></li>
</ul>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N3upd3key7index_tE">
<span id="_CPPv3N3upd3key7index_tE"></span><span id="_CPPv2N3upd3key7index_tE"></span><span class="target" id="classupd_1_1key_1adb1898a7dbf6f029b42cd5fba5f14943"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">index_t</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE" title="upd::key::Index_T"><span class="n"><span class="pre">Index_T</span></span></a><a class="headerlink" href="#_CPPv4N3upd3key7index_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of the index as found in the packets generated by this key. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N3upd3key11signature_tE">
<span id="_CPPv3N3upd3key11signature_tE"></span><span id="_CPPv2N3upd3key11signature_tE"></span><span class="target" id="classupd_1_1key_1aea5dce6ef5fcceccd86586c28adb07bc"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">signature_t</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">R</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">Args</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N3upd3key11signature_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Signature of the invocable associated with this key. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N3upd3key8return_tE">
<span id="_CPPv3N3upd3key8return_tE"></span><span id="_CPPv2N3upd3key8return_tE"></span><span class="target" id="classupd_1_1key_1a8056b67f363fa00a670050ee5756eabb"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">return_t</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">remove_cv_ref_t</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">R</span></span><span class="p"><span class="pre">&gt;</span></span><a class="headerlink" href="#_CPPv4N3upd3key8return_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Return type of <code class="docutils literal notranslate"><span class="pre">read_all</span></code>(i.e. the return type of the invocable without its reference and cv-qualifier) </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N3upd3key7tuple_tE">
<span id="_CPPv3N3upd3key7tuple_tE"></span><span id="_CPPv2N3upd3key7tuple_tE"></span><span class="target" id="classupd_1_1key_1a7db2ac63296932c80f4823fbc49c8ed1"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tuple_t</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE" title="upd::key::Endianess"><span class="n"><span class="pre">Endianess</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE" title="upd::key::Signed_Mode"><span class="n"><span class="pre">Signed_Mode</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">remove_cv_ref_t</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">Args</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">&gt;</span></span><a class="headerlink" href="#_CPPv4N3upd3key7tuple_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of the tuple which can be invoked on this key (like so for example: <code class="docutils literal notranslate"><span class="pre">t.invoke(key)</span></code>) </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3upd3keyclEDpRK4Args">
<span id="_CPPv3NK3upd3keyclEDpRK4Args"></span><span id="_CPPv2NK3upd3keyclEDpRK4Args"></span><span id="upd::key::call-operator__ArgsCRDpC"></span><span class="target" id="classupd_1_1key_1a6e4af8d6b51d226ef44c9305b92fa26a"></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">()</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Args</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">...</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">args</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3upd3keyclEDpRK4Args" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generate a packet ready to be sent. </p>
<p>This allows the following syntax : <code class="docutils literal notranslate"><span class="pre">key(x1,</span> <span class="pre">x2,</span> <span class="pre">x3,</span> <span class="pre">...)</span> <span class="pre">&gt;&gt;</span> <span class="pre">dest</span></code> (with <code class="docutils literal notranslate"><span class="pre">dest</span></code> being an output invocable). <code class="docutils literal notranslate"><span class="pre">dest_f</span></code> is invoked on every byte representing the data passed as parameter, in the action they appear in the packet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args...</strong> – Values to insert in the payload </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a temporary object allowing the syntax mentioned above </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK3upd3key8read_allE8return_tRR3Src">
<span id="_CPPv3I0ENK3upd3key8read_allERR3Src"></span><span id="_CPPv2I0ENK3upd3key8read_allERR3Src"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Src</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1key_1ab78a43cf6f816ad494a185688701df2e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd3key8return_tE" title="upd::key::return_t"><span class="n"><span class="pre">return_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_all</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0ENK3upd3key8read_allE8return_tRR3Src" title="upd::key::read_all::Src"><span class="n"><span class="pre">Src</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK3upd3key8read_allE8return_tRR3Src" title="Permalink to this definition"></a><br /></dt>
<dd><p>Unserialize a value from a packet sent by a slave device in response to a packet generated by this key. </p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">Src</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">auto</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">Src</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">auto</span> <span class="n">read_all</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">auto</span> <span class="n">read_all</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="n">auto</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">It</span><span class="p">);</span>
<span class="n">auto</span> <span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">It</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">read_all(Src</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Src</strong> – Input functor type </p></li>
<li><p><strong>It</strong> – Input iterator type</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>src</strong> – Input invocable to the packet </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the unserialized value </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK3upd3key9with_hookE6actionRR1F">
<span id="_CPPv3I0ENK3upd3key9with_hookERR1F"></span><span id="_CPPv2I0ENK3upd3key9with_hookERR1F"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1key_1aafc5ea5310ff845c185d8380c44539fb"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3upd6actionE" title="upd::action"><span class="n"><span class="pre">action</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">with_hook</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0ENK3upd3key9with_hookE6actionRR1F" title="upd::key::with_hook::F"><span class="n"><span class="pre">F</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ftor</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK3upd3key9with_hookE6actionRR1F" title="Permalink to this definition"></a><br /></dt>
<dd><p>Plan an action to perform when a packet resulting from the execution of the action is received. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ftor</strong> – Callback which will carry out the action </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an action holding the provided hook </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0_1FENK3upd3key9with_hookE17no_storage_action11unevaluatedI1F4FtorE">
<span id="_CPPv3I0_1FENK3upd3key9with_hookE11unevaluatedI1F4FtorE"></span><span id="_CPPv2I0_1FENK3upd3key9with_hookE11unevaluatedI1F4FtorE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_1FENK3upd3key9with_hookE17no_storage_action11unevaluatedI1F4FtorE" title="upd::key::with_hook::F"><span class="n"><span class="pre">F</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Ftor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1key_1a579d236cdaed8f404e231f3748dbc348"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">no_storage_action</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">with_hook</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="shared.html#_CPPv4I0_1TEN3upd11unevaluatedE" title="upd::unevaluated"><span class="n"><span class="pre">unevaluated</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0_1FENK3upd3key9with_hookE17no_storage_action11unevaluatedI1F4FtorE" title="upd::key::with_hook::F"><span class="n"><span class="pre">F</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_1FENK3upd3key9with_hookE17no_storage_action11unevaluatedI1F4FtorE" title="upd::key::with_hook::Ftor"><span class="n"><span class="pre">Ftor</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0_1FENK3upd3key9with_hookE17no_storage_action11unevaluatedI1F4FtorE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Plan an action to perform when a packet resulting from the execution of the action is received. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><p><strong>Ftor</strong> – Callback which will carry out the action </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an action holding the provided hook </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_RDaENK3upd3key9with_hookEDav">
<span id="_CPPv3I_RDaENK3upd3key9with_hookEv"></span><span id="_CPPv2I_RDaENK3upd3key9with_hookEv"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">Ftor</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1key_1ad706f865226109a5a081dc2a89937efa"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">with_hook</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I_RDaENK3upd3key9with_hookEDav" title="Permalink to this definition"></a><br /></dt>
<dd><p>Plan an action to perform when a packet resulting from the execution of the action is received. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><p><strong>Ftor</strong> – Callback which will carry out the action </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an action holding the provided hook </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-attributes">Public Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd3key5indexE">
<span id="_CPPv3N3upd3key5indexE"></span><span id="_CPPv2N3upd3key5indexE"></span><span id="upd::key::index__auto"></span><span class="target" id="classupd_1_1key_1a7882915aa78d5472ca4ce3866733e047"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">index</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE" title="upd::key::Index"><span class="n"><span class="pre">Index</span></span></a><a class="headerlink" href="#_CPPv4N3upd3key5indexE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Equals the <code class="docutils literal notranslate"><span class="pre">Index</span></code> template parameter. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd3key9endianessE">
<span id="_CPPv3N3upd3key9endianessE"></span><span id="_CPPv2N3upd3key9endianessE"></span><span id="upd::key::endianess__auto"></span><span class="target" id="classupd_1_1key_1a824760f518b3d8df95a31af83b340d97"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">endianess</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE" title="upd::key::Endianess"><span class="n"><span class="pre">Endianess</span></span></a><a class="headerlink" href="#_CPPv4N3upd3key9endianessE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Equals the <code class="docutils literal notranslate"><span class="pre">Endianess</span></code> template parameter. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3upd3key11signed_modeE">
<span id="_CPPv3N3upd3key11signed_modeE"></span><span id="_CPPv2N3upd3key11signed_modeE"></span><span id="upd::key::signed_mode__auto"></span><span class="target" id="classupd_1_1key_1aa7efb1bb064f1ad5a76b8860bf1d79a7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">signed_mode</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0_7Index_T0_9endianess_11signed_modeEN3upd3keyE" title="upd::key::Signed_Mode"><span class="n"><span class="pre">Signed_Mode</span></span></a><a class="headerlink" href="#_CPPv4N3upd3key11signed_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Equals the <code class="docutils literal notranslate"><span class="pre">Signed_Mode</span></code> template parameter. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N3upd6actionE">
<span id="_CPPv3N3upd6actionE"></span><span id="_CPPv2N3upd6actionE"></span><span id="upd::action"></span><span class="target" id="classupd_1_1action"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">upd</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">immediate_process</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N3upd6actionE" title="upd::action"><span class="n"><span class="pre">action</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">&gt;</span></span><a class="headerlink" href="#_CPPv4N3upd6actionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Wrapper around an invocable object which serialize / unserialize parameters and return value. </p>
<p>Given a byte sequence generated by a key, an action of same signature (i.e. whose underlying invocable object has the same signature as the aforesaid key) is able to unserialize the parameters from that byte sequence, call the underlying invocable object and serialize the return value as a byte sequence which can later be unserialized the key to obtain the return value. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_9endianess_11signed_mode0EN3upd6action6actionERR1F11endianess_hI9EndianessE13signed_mode_hI11Signed_ModeE">
<span id="_CPPv3I_9endianess_11signed_mode0EN3upd6action6actionERR1F11endianess_hI9EndianessE13signed_mode_hI11Signed_ModeE"></span><span id="_CPPv2I_9endianess_11signed_mode0EN3upd6action6actionERR1F11endianess_hI9EndianessE13signed_mode_hI11Signed_ModeE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">endianess</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Endianess</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">signed_mode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Signed_Mode</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1action_1ac4fffa5c1f11603a3a6f0450af645a89"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I_9endianess_11signed_mode0EN3upd6action6actionERR1F11endianess_hI9EndianessE13signed_mode_hI11Signed_ModeE" title="upd::action::action::F"><span class="n"><span class="pre">F</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ftor</span></span>, <span class="n"><span class="pre">endianess_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I_9endianess_11signed_mode0EN3upd6action6actionERR1F11endianess_hI9EndianessE13signed_mode_hI11Signed_ModeE" title="upd::action::action::Endianess"><span class="n"><span class="pre">Endianess</span></span></a><span class="p"><span class="pre">&gt;</span></span>, <span class="n"><span class="pre">signed_mode_h</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I_9endianess_11signed_mode0EN3upd6action6actionERR1F11endianess_hI9EndianessE13signed_mode_hI11Signed_ModeE" title="upd::action::action::Signed_Mode"><span class="n"><span class="pre">Signed_Mode</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_9endianess_11signed_mode0EN3upd6action6actionERR1F11endianess_hI9EndianessE13signed_mode_hI11Signed_ModeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Wrap a copy of the provided invocable object. </p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Endianess</strong> – Byte order of the integers in the generated packets </p></li>
<li><p><strong>Signed_Mode</strong> – Representation of signed integers in the generated packets </p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>ftor</strong> – Invocable object to be wrapped </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN3upd6action6actionERR1F">
<span id="_CPPv3I0EN3upd6action6actionERR1F"></span><span id="_CPPv2I0EN3upd6action6actionERR1F"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">F</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1action_1a84ec84df9b0d3a6afded566c8697562c"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN3upd6action6actionERR1F" title="upd::action::action::F"><span class="n"><span class="pre">F</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ftor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN3upd6action6actionERR1F" title="Permalink to this definition"></a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ftor</strong> – Invocable object to be wrapped </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I00ENK3upd6actionclEvRR3SrcRR4Dest">
<span id="_CPPv3I00ENK3upd6actionclERR3SrcRR4Dest"></span><span id="_CPPv2I00ENK3upd6actionclERR3SrcRR4Dest"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Src</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Dest</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1action_1a26a82aa15b5860e06fa75931c3634145"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">()</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I00ENK3upd6actionclEvRR3SrcRR4Dest" title="upd::action::operator()::Src"><span class="n"><span class="pre">Src</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">src</span></span>, <a class="reference internal" href="#_CPPv4I00ENK3upd6actionclEvRR3SrcRR4Dest" title="upd::action::operator()::Dest"><span class="n"><span class="pre">Dest</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I00ENK3upd6actionclEvRR3SrcRR4Dest" title="Permalink to this definition"></a><br /></dt>
<dd><p>Invoke the held invocable object and serialize / unserialize the parameters / return value. </p>
<p>The following member functions are also defined through CRTP. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">);</span>
<span class="n">auto</span> <span class="n">operator</span><span class="p">()(</span><span class="n">Input</span> <span class="o">&amp;&amp;</span><span class="p">,</span> <span class="n">Output</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
 All these functions work the same way as <code class="docutils literal notranslate"><span class="pre">operator()(Src</span> <span class="pre">&amp;&amp;,</span> <span class="pre">Dest</span> <span class="pre">&amp;&amp;)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Input</strong> – An input functor type or an input iterator type </p></li>
<li><p><strong>Output</strong> – An output functor type or an output iterator type</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>src</strong> – Input invocable object </p></li>
<li><p><strong>dest</strong> – Output invocable object </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK3upd6actionclEvRR5Input">
<span id="_CPPv3I0ENK3upd6actionclERR5Input"></span><span id="_CPPv2I0ENK3upd6actionclERR5Input"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Input</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classupd_1_1action_1a9332bd11bc4d2226aaa022b92bcff2a6"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">()</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0ENK3upd6actionclEvRR5Input" title="upd::action::operator()::Input"><span class="n"><span class="pre">Input</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">input</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK3upd6actionclEvRR5Input" title="Permalink to this definition"></a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input</strong> – Input byte sequence </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3upd6action10input_sizeEv">
<span id="_CPPv3NK3upd6action10input_sizeEv"></span><span id="_CPPv2NK3upd6action10input_sizeEv"></span><span id="upd::action::input_sizeC"></span><span class="target" id="classupd_1_1action_1ad972333782ed80c53fed48c4edf111e6"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">input_size</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3upd6action10input_sizeEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the size in bytes of the payload needed to invoke the wrapped object. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The size of the payload in bytes </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3upd6action11output_sizeEv">
<span id="_CPPv3NK3upd6action11output_sizeEv"></span><span id="_CPPv2NK3upd6action11output_sizeEv"></span><span id="upd::action::output_sizeC"></span><span class="target" id="classupd_1_1action_1ae032c8770cac3badcf6fd1638c6f8e2f"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">output_size</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3upd6action11output_sizeEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the size in bytes of the payload representing the return value of the wrapped invocable object. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The size of the payload in bytes </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="shared.html" class="btn btn-neutral float-left" title="Sharing RPC convention" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="callee.html" class="btn btn-neutral float-right" title="Implementing callee side" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>